<!DOCTYPE html>
<html>

  <head>
    <style type="text/css">
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
      }

      .full-size {
        height: 100%;
        width: 100%;
        overflow: hidden;
        /* or overflow:auto; if you want scrollbars */
      }

      #main {
        background-color: black;
      }

      .line {
        width: 50px;
        height: 2px;
        background-color: white;
        /* background: linear-gradient(90deg, red 50%, blue 50%); */
        position: fixed;
        top: 0px;
        left: -25px;
        overflow: hidden;
        transform: rotate(25deg)
      }

      .hit {
        position: fixed;
        height: 10px;
        width: 10px;
        background-color: green;
        transform: translate(-50%, -50%);
        border-radius: 100%;
      }

      .dot {
        position: fixed;
        height: 10px;
        width: 10px;
        background-color: pink;
        transform: translate(-50%, -50%);
        border-radius: 100%;
      }

    </style>
    <link rel="manifest" href="/windmill/manifest.json">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="ms-icon-144x144.png">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Windmill">
    <meta name="apple-mobile-web-app-title" content="Windmill">
    <meta name="theme-color" content="#FF69B4">
    <meta name="msapplication-navbutton-color" content="#FF69B4">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="/windmill">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta charset="utf-8">
    <title>Windmill Simulation</title>
  </head>

  <body>

    <div id="main" class="full-size">
      <div class="line"></div>
    </div>

    <script type="text/javascript">
function e(a){var k=0;return function(){return k<a.length?{done:!1,value:a[k++]}:{done:!0}}}function f(){var a=m,k="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return k?k.call(a):{next:e(a)}}"serviceWorker"in navigator&&navigator.serviceWorker.register("/windmill/service-worker.js");var n=window.innerWidth||2E3,q=window.innerHeight||2E3,r=3*(q+n),w={};
function x(){var a=y;a.getBoundingClientRect();return{x:parseInt(a.style.left.slice(0,-2))+(r/2<<0),y:parseInt(a.style.top.slice(0,-2))}}function z(a,k){var d=y;d.style.left=a-(r/2<<0)+"px";d.style.top=k+"px"}var A=document.querySelector("#main"),y=document.querySelector(".line");y.style.width=r+"px";y.style.left="0px";y.style.top="0px";y.style.overflow="hidden";x();z(n/2<<0,q/2<<0);x();var B=null,C=0,D=!1,E,F=365,m=[];
function G(){var a=C+180;0>a?a=360+a:360<a&&(a-=360);a=D?a:C;if(0==a&&360>F&&359<F||a>=F&&a-.6<F){z(E.x,E.y);E.f.className="hit";navigator.vibrate&&navigator.vibrate([100]);var k=x();m=[];Object.values(w).forEach(function(l){if(k.x!=l.x||k.y!=l.y){var p=180*Math.atan2(-1*l.y- -1*k.y,l.x-k.x)/Math.PI;0>p&&(p=360+p);m.push({d:p,p:l})}});m.sort(function(l,p){return l.d-p.d});for(var d=a="false",g=f(),b=g.next();!b.done;b=g.next())if(b=b.value,C<b.d){a=b.d;d=b.p;break}"false"===a&&m[0]&&(a=m[0].d,d=m[0].p);
g=C+180;0>g?g=360+g:360<g&&(g-=360);var h="false",c="false",u=f();for(b=u.next();!b.done;b=u.next())if(b=b.value,g<b.d){h=b.d;c=b.p;break}"false"===h&&m[0]?(b=m[0].d,c=m[0].p):b=h;(0>a-C?a+(360-C):a-C)>(0>b-g?b+(360-g):b-g)?(F=b,E=c,D=!0):(F=a,E=d,D=!1);console.log({c:F,b:E,g:D,h:C,a:g})}y.style.transform="rotate("+(360-C)+"deg)";C+=.5;360===C&&(C=0)}function H(a){B||(B=a);G();window.requestAnimationFrame(H)}window.requestAnimationFrame(H);
function I(a,k){var d=document.createElement("div");d.style.left=a+"px";d.style.top=k+"px";d.className="dot";A.appendChild(d);w[a+","+k]={x:a,y:k,f:d};console.log({i:w});var g=x();m=[];Object.values(w).forEach(function(t){if(g.x!=t.x||g.y!=t.y){var v=180*Math.atan2(-1*t.y- -1*g.y,t.x-g.x)/Math.PI;0>v&&(v=360+v);m.push({d:v,p:t})}});m.sort(function(t,v){return t.d-v.d});for(var b=d="false",h=f(),c=h.next();!c.done;c=h.next())if(c=c.value,C<c.d){d=c.d;b=c.p;break}"false"===d&&m[0]&&(d=m[0].d,b=m[0].p);
h=C+180;0>h?h=360+h:360<h&&(h-=360);var u="false",l="false",p=f();for(c=p.next();!c.done;c=p.next())if(c=c.value,h<c.d){u=c.d;l=c.p;break}"false"===u&&m[0]?(c=m[0].d,l=m[0].p):c=u;(0>d-C?d+(360-C):d-C)>(0>c-h?c+(360-h):c-h)?(F=c,E=l,D=!0):(F=d,E=b,D=!1);console.log({c:F,b:E,g:D,h:C,a:h})}document.addEventListener(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&"ontouchstart"in window?"touchstart":"click",function(a){I(a.clientX||a.pageX,a.clientY||a.pageY)});
    </script>

    <!-- Default Statcounter code for Windmill Simulation
https://aalluri7.github.io/windmill/ -->
    <script type="text/javascript">
      var sc_project = 12110059;
      var sc_invisible = 1;
      var sc_security = "eebfd5b0";

    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <!-- End of Statcounter Code -->
  </body>

</html>
